<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" media="screen" href="assets/css/blog.css">
  <title>Tresre's Blog</title>
</head>


<div class="header">
  <div class="logo"><a href="/" class="logo"><img src="https://tresre.github.io/assets/img/logo.png" alt="logo" style="height:50px; cursor: pointer;"></a></div>
  <div class="navbar-nav"> <a href="https://twitter.com/messages/compose?recipient_id=1128488783308054528&amp;text=Hello!%20I%20need%20help%20with:%20" target="_blank" rel="noopener noreferrer" class="navbar-button">Contact</a> </div>
  <div class="navbar-nav"> <a href="https://discord.gg/PkZtTbvBRG" target="_blank" rel="noopener noreferrer" class="navbar-button">Discord</a> </div>
  <div class="navbar-nav"> <a href="https://shop.minehut.com/collections/framework" target="_blank" rel="noopener noreferrer" class="navbar-button">Market</a> </div>
</div>


<body>

  <div class="root" id="root"></div>

</body>

<div class="socials">
  <a href="https://github.com/Tresre" target="_blank" rel="noopener noreferrer" style="padding: 5px;"><img src="https://tresre.dev/assets/img/github.png" alt="Discord Pic" style="width: 50px;"></a>
  <a href="https://twitter.com/tresreee" target="_blank" rel="noopener noreferrer" style="padding: 5px;"><img src="https://tresre.dev/assets/img/twitter.png" alt="Twitter Pic" style="width: 50px;"></a>
  <a href="https://www.youtube.com/channel/UCQW-NEKSiQoa2KKrPH-HH-Q" target="_blank" rel="noopener noreferrer" style="padding: 5px;"><img src="https://tresre.dev/assets/img/youtube.png" alt="Youtube Pic" style="width: 50px;"></a>
  <a href="https://www.twitch.tv/tresreee" target="_blank" rel="noopener noreferrer" style="padding: 5px;"><img src="https://tresre.dev/assets/img/twitch.png" alt="Twitch Pic" style="width: 50px;"></a>
  <div class="madeby"> Made By Tresre â€¢ <span id="year"></span> </div>
</div>

<script src="/assets/js/blog.js"></script>

<script>
const app = document.getElementById('root');

const container = document.createElement('div');
container.setAttribute('class', 'container');

app.appendChild(container);

var request = new XMLHttpRequest();
request.open('GET', 'https://api.github.com/repos/Tresre/blog/issues', true);
request.onload = function () {

  var data = JSON.parse(this.response);
  if (request.status >= 200 && request.status < 400) {
    data.forEach(post => {
      if (post.user.login !== "Tresre") {
      	return;
      }
      const card = document.createElement('div');
      card.setAttribute('class', 'card');

      const h1 = document.createElement('h1');
      h1.textContent = post.title;
      
      const h2 = document.createElement('h2');
      h2.textContent = post.user.login;
      
      const h3 = document.createElement('h3');
      date = post.created_at;
      date = date.replace("Z", "");
      const splitDate = date.split("T");
      
      const splitDay = splitDate[0].split("-");
      day = (splitDay[1] + "/" + splitDay[2] + "/" + splitDay[0]);
      
      time = splitDate[1].substring(0, splitDate[1].length - 3);
      const hour = time.split(":");
      hour[0] = (hour[0] - 4);
      if (hour[0] > 12) {
      	var ampm = "pm";
        hour[0] = (hour[0] - 12);
      } else {
      	var ampm = "am";
      }
      
      h3.textContent = (day + " " + hour[0] + ":" + hour[1] + "" + ampm);

      const p = document.createElement('p');
      p.textContent = post.body;
      
      const logo = document.createElement('img');
      avatar = post.user.avatar_url
	  logo.src = avatar;

      container.appendChild(card);
      card.appendChild(h1);
      card.appendChild(logo);
      card.appendChild(h2);
      card.appendChild(h3);
      card.appendChild(p);
    });
  } else {
    const errorMessage = document.createElement('marquee');
    errorMessage.textContent = `An Error Has Occured`;
    app.appendChild(errorMessage);
  }
}

request.send();


var today = new Date();
let year = today.getFullYear();
document.getElementById("year").innerHTML = year;

function autoScroll() {
  window.scrollTo({
    top: 0,
    left: 0,
    behavior: 'smooth'
  });
}

autoScroll();
</script>

</html>
