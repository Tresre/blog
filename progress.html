<!DOCTYPE html>
<html>

<script>
var GITHUB_ISSUES_LINK =
  "https://api.github.com/repos/Tresre/blog/issues/";
var PATH_SEGMENTS_TO_SKIP = 1;

function isUrl(url) {
  // Regex from https://stackoverflow.com/a/3809435, with a modification to allow for TLDs of up to 24 characters
  return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,24}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)+$/.test(
    url
  );
}

function getPost(issueNumber) {
  var xhr = new XMLHttpRequest();
  xhr.onload = function () {
    try {
      var payload = JSON.parse(xhr.response);
      var title = payload.title;
      var message = payload.body;
      var avatar = payload.user.avatar_url;
      var date = payload.created_at;
      console.log("title " + title);
      console.log("pmessage " + message);
      console.log("avatar " + avatar);
      console.log("date " + date);
    } catch (e) {
      console.log("homepage");
    }
  };
  xhr.onerror = function () {
    console.log("xhr error");
  };
  xhr.open("GET", GITHUB_ISSUES_LINK + issueNumber);
  xhr.send();
  console.log("link " + "GET " + GITHUB_ISSUES_LINK + issueNumber);
}

getPost(1);
</script>

</html>
